---
autoSort: 99
title: vim编辑器
date: 2023-06-30 20:30:40
permalink: /pages/549714/
categories: 
  - 技术
  - Linux
tags: 
  - 知识
  - 技术
  - Linux
---


# vim编辑器

**光标的移动，模式切换，删除，查找，替换，复制，粘贴，撤销**



## 重点掌握

* `yy`—— 拷贝
* `dd`——删除
* `:/ 关键字`——查找
* `set nu`——设置行号
* `G`——末行
* `gg`——首行
* `u`——撤销
* `数字+ shift +g`——快速定位到某一个 （`数字+G`）

## 命令模式

### 光标移动

* 光标移动到行首
  * `shift +6`（`^`）（T上面的数字6）
* 光标移动到行尾
  * `shift+4`（`$`）(R上面的数字4)
* 光标移动到首行
  * `gg`
* 光标移动到末行
  * `G`
* 向上翻屏
  * `ctrl+b`
  * `PgUp`
* 向下翻屏
  * `ctrl+f`
  * `PgDn`



* 快速将光标移动到指定行
  * `数字 G`
* 以当前光标为准向上/下，左/右移动几行
  * `数字 方向键`
* 底行模式下的快速移动：移动到指定行
  * `: 行数`+回车



### 复制

* 复制光标所在行

  * `yy`
  * `p` ——粘贴

* 以光标所在行为准（包含所在行），向下复制指定的行数

  * `数字 yy`
  * `p`——粘贴

* 可视化复制

  * `ctrl+v`,然后按下 方向键来选中需要复制的区块，按下yy键进行复制，按p键进行粘贴




###  剪切

* 剪切/删除 当前行
  * `dd`（删除之后下行上移）
  * 严格来说，`dd`是剪切，但是如果不粘贴，就相当于删除
* 以光标所在行为准（包含所在行），向下剪切/删除指定的行数

  * `数字 yy`
* 剪切/删除当前行，但是删除以后下一行不上移
  * `D`



### 撤销

* 撤销
  * `u`
* 恢复之前的撤销
  * `ctrl +R`

  

  

  









## 插入模式

* 进入方式(**重点记前两个**)

  * `i`——在光标所在字符前开始插入
  * `a`——在光标所在后开始插入
  * `o`——在光标所在行的下面另起一新行插入
  * `I`——在光标所在行的行首开始插入，如果行首有空格则在空格后插入
  * `A`——在光标所在行的行尾开始插入
  * `O`——在光标所在行的上面另起一行开始插入
  * `S`——删除光标所在行并开始插入

* 退出方式

  * `esc`

  

## 底行模式

### 保存文件

* `:w`——保存文件
* `:w 路径`(中间有一个空格)——另存为

### 退出

* `:q`——退出
* `:q!`——强制退出

### 保存并退出

* `:wq`——保存并退出

### 调用外部命令

* `:!外部命令`(无空格)——在vim编辑器中执行外部命令

### 查找

**（`/`也可以进入底行模式，专门用于搜索）**

* `/关键词`
* 在搜索结果中切换上/下一个结果
  * `N/n`
* 取消高亮
  * `:nohl`

### 替换

* `:s/原词/新词`——替换光标所在行的第一处符合条件的内容
* `:s/原词/新词/g`——替换光标所在行全部符合条件的内容
* `:%s/原词/新词`——替换整个文档中每行的第一处符合条件的内容
* `:%s/原词/新词/g`——替换整个文档的符合条件的内容
* `%`表示整个文档   `g`表示全局

### 显示行号

* `:set nu`——显示行号
* `set nonu`——不显示行号

### 切换文件

* `:files`——显示打开的文件

  ```linux
  :files
    1      "a.txt"                        第 41 行
    2 %a   "b"                            第 31 行
    3 #    "a"                            第 1 行                         
  ```

  * `%a`——正在活跃的文件
  * `#`——上一个打开的文件

  

* `:open 文件名`——打开指定文件

* `:bn`——切换到下一个文件

* `:bp`——切换到上一个文件



## 实用功能

* 代码着色
  * `syntax on`——着色
  * `syntax off`——取消着色
* vim中计算器的使用
  1. 进入编辑模式
  2. 按下快捷键`ctrl+r`,然后输入`=`，此时光标会变到最后一行
  3. 输入需要计算的内容，按下回车



## 扩展内容

### vim配置

* 在文件打开的时候在底行模式下输入的配置(临时有效)
* 个人配置文件`(~/.vimrc)`,没有可以新建(**优先级较高**)
  * 配置好之后，会自动执行配置文件
* 全局配置文件(`/etc/vimrc`)



### 异常退出

**在编辑文件之后并没有正常的退出**

* 解决方法
  * 删除交换文件（`.file.swp`）即可



### 别名机制

**相当于创建一些属于自己的命令**

* 别名映射文件
  * `~/.bashrc`
    * ` alias cls='clear'`
    * 前面是你想输入的命令，后面是要替换的命令



### 退出方式

* `:x`

  * 文件不修改时，相当于`:q`
  * 文件修改时，相当于`:wq`

  * 如果文件没有被修改，`:x`退出，不会修改  文件修改时间 

    `:wq`退出，内容没有影响，但是文件修改时间会改变



### 加密

* `:X`
  * 对文件进行加密，需要进行保存





